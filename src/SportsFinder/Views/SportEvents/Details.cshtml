@model SportsFinder.Models.SportEvent

@{
    ViewData["Title"] = "Details";
}

<h2>Details</h2>

@{ 
    string Equipment = Model.EquipmentList;
    string[] EquipArray = Equipment.Split(',');
}

<div>
    <h4>SportEvent</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.EquipmentList)
        </dt>
        @*<dd>
            @Html.DisplayFor(model => model.EquipmentList)
        </dd>*@
        <dd>
            @foreach (string item in EquipArray)
            {
                <div class="checkbox">
                    <label><input type="checkbox" value="" />@(item)</label>
                </div>
            }
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.EventSport)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.EventSport)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.EventTime)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.EventTime)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.IsTentative)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.IsTentative)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Latitude)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Latitude)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Longitude)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Longitude)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.MaxPeopleAllowed)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.MaxPeopleAllowed)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.PplAttendingCount)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.PplAttendingCount)
        </dd>
    </dl>
</div>

<div class="container" style="margin: 20px">
    <div id="map-canvas" style="width: 600px; height: 400px"></div>
</div>

<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAG8diNyE5CdFVLOvf9u7NlVoi6aEk8SH8"></script>
<script type="text/javascript">

    var googleMap;
    var modelLat;
    var modelLng;
    var eventTitle;

    modelLat = '@(Model.Latitude)';
    modelLng = '@(Model.Longitude)';
    title = '@(Model.EventSport)';

    function initialize() {

        var location = {
            lat: parseFloat(modelLat),
            lng: parseFloat(modelLng)
        };

        var mapOptions = {
            zoom: 12,
            center: location,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };

        googleMap = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

        var marker = new google.maps.Marker({
            position: location,
            map: googleMap,
            title: eventTitle
        });
    }

    google.maps.event.addDomListener(window, 'load', initialize);

</script>

<p>
    <a asp-action="Edit" asp-route-id="@Model.ID" class="btn btn-danger">Edit</a> |
    <a asp-action="Index" class="btn btn-primary">Back to List</a>
</p>
